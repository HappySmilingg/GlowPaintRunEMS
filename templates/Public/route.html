<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Glow Paint Run</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='header&footer.css')}}">
    <link rel="stylesheet" href="{{ url_for('static', filename='route.css')}}">
    <link href="https://fonts.googleapis.com/css2?family=Irish+Grover&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="header">
    <div class="logo">
      <a href="/">
          <img src="{{ url_for('static', filename='Image/profile pic.png') }}" alt="Logo">
      </a>
    </div> 
    <div class="header-structure">
      <div class="header-item">Register
        <i class="fa fa-caret-down"></i>
        <ul class="header-subitem">
            <li><a href="#" onclick="window.location.href='/Public/student_register'">USM Student</a></li>
            <li><a href="#" onclick="window.location.href='/Public/public_register'">Public</a></li>
        </ul>
      </div>
      <div class="header-item" onclick="window.location.href='/Public/route'">Event Route</div>
      <div class="header-item" onclick="window.location.href='/Public/packages'">Packages</div>
      <div class="header-item">About Us
        <i class="fa fa-caret-down"></i>
        <ul class="header-subitem">
          <li><a href="#" onclick="window.location.href='/Public/about_us'">About Us</a></li>
          <li><a href="#" onclick="window.location.href='/Public/contact_us'">Contact Us</a></li>
        </ul>
     </div>
    </div>
    <div class="profile-icon" onclick="window.location.href='/Organiser/login'">
      <i class='fas fa-user-alt' style="font-size: 24px;"></i>
    </div>
  </div>    
    <!-- Legend -->
    <div class="legend-container">
      <h2>5 KM ROUTE</h2>
      <div class="legend-box">
          <div class="mainpoint-icon">
              <span class="icon"><i class="fas fa-location-dot fa-2x"></i></span>
          </div>
          <div class="directionpath-icon">
              <span class="icon"><i class="fas fa-caret-right fa-3x"></i></span>
          </div>
          <div class="startfinish-icon">
              <span class="icon"><i class="fas fa-flag flag fa-2x"></i></span>
          </div>
          <div class="text1">
            <span>MAIN POINT</span>
          </div>
          <div class="text2">
            <span>DIRECTION PATH</span>
          </div>
          <div class="text3">
            <span>START / FINISH</span>
          </div>
      </div>
    </div>

   <!--Route-->
   <div class="container">
      <h1>RUNNING ROUTE</h1>
      <div class="content">
        <img class="background-img" src="{{ url_for('static', filename='Image/routebg.png') }}" alt="Background Image">
      </div>
      {% if route_images %}
    <!-- Only display these divs if there are route images -->
    <div class="location-icon1" id="location-icon1" data-img="data:image/jpeg;base64,{{ route_images[0] }}">
        <i class="fas fa-location-dot fa-2x"></i>
    </div>

    <div class="location-icon2" id="location-icon2" data-img="data:image/jpeg;base64,{{ route_images[1] }}">
        <i class="fas fa-location-dot fa-2x"></i>
    </div>

    <div class="location-icon3" id="location-icon3" data-img="data:image/jpeg;base64,{{ route_images[2] }}">
        <i class="fas fa-location-dot fa-2x"></i>
    </div>

    <div class="location-icon4" id="location-icon4" data-img="data:image/jpeg;base64,{{ route_images[3] }}">
        <i class="fas fa-location-dot fa-2x"></i>
    </div>

    <div class="location-icon5" id="location-icon5" data-img="data:image/jpeg;base64,{{ route_images[4] }}">
        <i class="fas fa-location-dot fa-2x"></i>
    </div>

    <div class="location-icon6" id="location-icon6" data-img="data:image/jpeg;base64,{{ route_images[5] }}">
        <i class="fas fa-location-dot fa-2x"></i>
    </div>

    <div class="location-icon7" id="location-icon7" data-img="data:image/jpeg;base64,{{ route_images[6] }}">
        <i class="fas fa-location-dot fa-2x"></i>
    </div>
    {% else %}
        <p>No route images available.</p>
    {% endif %}


  <!-- Popup Window -->
<div id="popup-window" class="popup-window">
  <div class="popup-content">
      <span class="close-btn" onclick="closePopup()">Ã—</span>
      <img id="popup-img" src="" alt="Popup Image">
  </div>
</div>

      <div class="label-1">
        <span>BUMBLEDEES</span>
      </div>
      <div class="label-2">
        <span>MUZIUM & GALERI <br> TUANKU FAUZIAH</span>
      </div>
      <div class="label-3">
        <span>BUKIT CINTA</span>
      </div>
      <div class="label-4">
        <span>HBP</span>
      </div>
      <div class="label-5">
        <span>DESASISWA FAJAR</span>
      </div>
      <div class="label-6">
        <span>BHEPA</span>
      </div>
      <div class="label-7">
        <span>PUSAT RANCANGAN <br> KOKURIKULUM</span>
      </div>

      <!--FLAG-->
      <div class="start-end-icon" id="start-end-icon" data-img="data:image/jpeg;base64,{{ route_images[7] }}">
        <i class="fas fa-flag flag fa-3x"></i>
    </div>    
      <div class="start-end-label">
        <span>START / END POINT</span>
   </div>
</body>
<footer class="footer">
  <div class="footer-section follow-us">
    <h3>FOLLOW US</h3>
    <div class="social-icons">
      <div class="social-item">
        <a href="https://www.instagram.com/3KPP_USM" target="_blank" class="social-link">
          <i class="fab fa-instagram" style="font-size: 20px; margin-right: 10px;"></i>
          <p>3KPP_USM</p>
        </a>
      </div>
      <div class="social-item">
        <a href="https://www.tiktok.com/@3KPP_USM" target="_blank" class="social-link">
          <i class="fab fa-tiktok" style="font-size: 20px; margin-right: 10px;"></i>
          <p>3KPP_USM</p>
        </a>
      </div>
      <div class="social-item">
        <a href="https://www.facebook.com/KARNIVALKEUSAHAWAN" target="_blank" class="social-link">
          <i class="fab fa-facebook" style="font-size: 20px; margin-right: 10px;"></i>
          <p>KARNIVAL KEUSAHAWAN & KERJAYA PULAU PINANG</p>
        </a>
      </div>
    </div>
  </div>

  <div class="footer-section register-now">
    <h3>REGISTER NOW</h3>
    <p onclick="window.location.href='/Public/student_register'">USM Student</p>
    <p onclick="window.location.href='/Public/public_register'">Public</p>
  </div>

  <div class="footer-section about-event">
    <h3>ABOUT EVENT</h3>
    <p onclick="window.location.href='/Public/route'">Event Route</p>
  </div>

  <div class="footer-section package">
    <h3>PACKAGE</h3>
    <p onclick="window.location.href='/Public/packages'">View Running Kit Package</p>
  </div>

  <div class="footer-section about-us">
    <h3>ABOUT US</h3>
    <p onclick="window.location.href='/Public/about-us'">About Us</p>
    <p onclick="window.location.href='/Public/contact_us'">Contact Us</p>
  </div>

  <div class="footer-bottom">
    <div class="line"></div>
    <p>&copy; 2024 Universiti Sains Malaysia (USM). All rights reserved.</p>
  </div>
</footer>
</html>

<script>
  // // Select the header
  // const header = document.querySelector('.header');

  // // Add scroll event listener
  // window.addEventListener('scroll', () => {
  //   if (window.scrollY > 0) {
  //     header.classList.add('shrink');
  //   } else {
  //     header.classList.remove('shrink');
  //   }
  // });

 // Function to open the popup window with the selected image
 function showPopup(imgSrc) {
        const popupWindow = document.getElementById("popup-window");
        const popupImg = document.getElementById("popup-img");

        popupImg.src = imgSrc;
        popupWindow.style.display = "flex"; // Make the popup visible
    }

    // Function to close the popup window
    function closePopup() {
        const popupWindow = document.getElementById("popup-window");
        popupWindow.style.display = "none"; // Hide the popup
    }

    // Attach click event listeners to each location icon
    document.querySelectorAll('[id^="location-icon"], .start-end-icon').forEach(icon => {
        icon.addEventListener('click', function () {
            const imgSrc = this.getAttribute('data-img'); // Get the image source from the data attribute
            showPopup(imgSrc); // Show the popup with the selected image
        });
    });
</script>
